(this["webpackJsonpreact-quiz"]=this["webpackJsonpreact-quiz"]||[]).push([[0],{26:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(19),s=n.n(r),i=(n(25),n(26),n(5)),o=n.n(i),u=n(7),l=n(2),b=n(9),d=n.n(b),j=(n(46),n.p+"static/media/logo.7ca4d200.svg"),h=n(0),m=["Easy","Medium","Hard"],f=function(e){var t=e.handleStart,n=Object(a.useState)({}),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),b=Object(l.a)(i,2),j=b[0],f=b[1],O=Object(a.useState)(""),p=Object(l.a)(O,2),x=p[0],g=p[1],y=Object(a.useState)(m[0]),v=Object(l.a)(y,2),w=v[0],S=v[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://opentdb.com/api_category.php");case 2:t=e.sent,n=t.data.trivia_categories,a={},c=new Set,n.forEach((function(e){e.name.includes(":")||(e.name="Miscellaneous: "+e.name);var t=e.name.split(":"),n=t[0],r=t[1].trim();a[r]={id:e.id,genre:n},c.add(n)})),s(a),f(Array.from(c)),g(Object.keys(a)[0]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var N=function(e){var t=[];return Object.entries(r).forEach((function(n){var a=Object(l.a)(n,2),c=a[0],r=a[1];r.genre===e&&t.push({name:c,id:r.id})})),t};return Object(h.jsxs)("div",{children:[Object(h.jsx)("h6",{children:"Choose category..."}),Object(h.jsx)("select",{className:"custom-select shadow-sm",onChange:function(e){return g(e.target.value)},children:j.map((function(e){return Object(h.jsx)("optgroup",{label:" "+e,children:N(e).map((function(e){return Object(h.jsx)("option",{children:e.name},e.id)}))},e)}))}),Object(h.jsx)("h6",{className:"mt-3",children:"Choose difficulty..."}),Object(h.jsx)("select",{className:"custom-select shadow-sm",onChange:function(e){return S(e.target.value)},children:m.map((function(e,t){return Object(h.jsx)("option",{children:e},t)}))}),Object(h.jsx)("div",{className:"bg-white rounded-pill shadow-sm my-4",children:Object(h.jsx)("button",{type:"button",className:"btn btn-block btn-outline-primary rounded-pill",onClick:function(){return t(r[x].id,w)},children:"Start quiz"})}),Object(h.jsxs)("p",{className:"text-center bg-white text-dark rounded px-3 py-1",children:["Source code is\xa0",Object(h.jsx)("a",{href:"https://github.com/summersky1/react-quiz",target:"_blank",rel:"noreferrer",children:"here"}),", questions from\xa0",Object(h.jsx)("a",{href:"https://opentdb.com/",target:"_blank",rel:"noreferrer",children:"Open Trivia Database"})]})]})},O=n(20),p=n(4),x=function(e){var t=e.text,n=e.correct,c=e.handleSelectAnswer,r=e.showResult,s=Object(a.useState)(!1),i=Object(l.a)(s,2),o=i[0],u=i[1];return Object(h.jsx)("div",{className:"bg-white rounded-pill shadow-sm my-3",children:Object(h.jsx)("button",{type:"button",className:"btn btn-block rounded-pill ".concat(function(){if(r){if(n)return"btn-success";if(o)return"btn-danger"}return"btn-outline-primary"}()),dangerouslySetInnerHTML:{__html:"".concat(t)},onClick:function(){r||(c(n),u(!0))},disabled:r&&!o})})},g=function(e){var t=e.questionDetails,n=e.getNextQuestion,c=Object(a.useState)(!1),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),b=u[0],d=u[1],j=function(e){e&&d(!0),i(!0)};return Object(h.jsxs)("div",{className:"question"+(s?"":" animate__animated animate__fadeIn animate__fast"),children:[Object(h.jsx)("h6",{children:"Question ".concat(t.index+1,":")}),Object(h.jsx)("p",{className:"bg-primary rounded py-2 px-3",dangerouslySetInnerHTML:{__html:"".concat(t.question)}}),t.shuffledAnswers.map((function(e){return Object(h.jsx)(x,{text:e.text,correct:e.text===t.correct_answer,handleSelectAnswer:j,showResult:s},e.key)})),s&&Object(h.jsx)("button",{type:"button",className:"btn btn-block btn-primary rounded-pill shadow-sm mb-2",onClick:function(){n(b),i(!1),d(!1)},children:t.index+1===t.total?"Show final score...":"Next question..."}),Object(h.jsxs)("p",{children:[t.category,", Difficulty: ",t.difficulty]})]})},y=function(e){var t=e.numberOfQuestions,n=e.numberCorrect,a=e.handlePlayAgain;return Object(h.jsxs)("div",{className:"text-center border rounded-lg my-4",children:[Object(h.jsx)("h4",{className:"my-3",children:"Thanks for playing!"}),Object(h.jsx)("h4",{children:"Final score:"}),Object(h.jsxs)("h1",{children:[n,"/",t]}),Object(h.jsx)("h4",{children:function(){var e=n/t*100;return e<40?"It's ok, you're just having a bad day.":e<70?"Not bad, you just need to brush up a bit.":e<100?"Well done! You've accumulated quite a bit of knowledge.":"Perfect! Perhaps try another category and aim for glory."}()}),Object(h.jsx)("div",{className:"bg-white rounded-pill shadow-sm mx-5 my-4",children:Object(h.jsx)("button",{type:"button",className:"btn btn-block btn-outline-primary rounded-pill",onClick:a,children:"Play again!"})})]})},v=function(e){var t=e.questions,n=e.handlePlayAgain,c=Object(a.useState)(Object(p.a)(Object(p.a)({},t[0]),{},{index:0,total:t.length})),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(0),u=Object(l.a)(o,2),b=u[0],d=u[1],j=Object(a.useState)(!1),m=Object(l.a)(j,2),f=m[0],x=m[1];return Object(h.jsxs)("div",{children:[!f&&Object(h.jsx)(g,{questionDetails:Object(p.a)(Object(p.a)({},s),{},{shuffledAnswers:function(){for(var e=[].concat(Object(O.a)(s.incorrect_answers),[s.correct_answer]),t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e=e.map((function(e){return{text:e,key:Math.floor(1e6*Math.random())}}))}()}),getNextQuestion:function(e){e&&d(b+1);var n=s.index+1;t.length===n?x(!0):i(Object(p.a)(Object(p.a)({},t[n]),{},{index:n,total:t.length}))}}),f&&Object(h.jsx)(y,{numberOfQuestions:t.length,numberCorrect:b,handlePlayAgain:n})]})};var w=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),i=s[0],b=s[1],m=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://opentdb.com/api.php",{params:{amount:10,category:t,difficulty:n.toLowerCase()}});case 2:a=e.sent,(r=a.data.results).length>0?(b(r),c(!0)):alert("There are no questions for this category/difficulty combination, please choose another difficulty and/or category.");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container py-4",children:[Object(h.jsxs)("div",{className:"text-center",children:[Object(h.jsx)("img",{src:j,className:"App-logo mt-n3 ml-n3",alt:"logo"}),Object(h.jsx)("span",{className:"h2",children:"React Quiz"})]}),!n&&Object(h.jsx)(f,{handleStart:m}),n&&Object(h.jsx)(v,{questions:i,handlePlayAgain:function(){c(!1),b([])}})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root")),S()}},[[48,1,2]]]);
//# sourceMappingURL=main.f69b30b5.chunk.js.map